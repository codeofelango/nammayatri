imports:
  Merchant: Domain.Types.Merchant
  UTCTime: Kernel.Prelude
  Text: Data.Text

IGMIssue:
  tableName: igm_issue

  types:
    Status:
      enum: "OPEN, CLOSED, ESCALATED, RESOLVED"
    Entity:
      enum: "GRO, COUNTERPARTY"

  fields:
    id: Id IGMIssue
    internalIssueId: Text
    issueType: Text
    issueStatus: Status
    respondentEntityType: Maybe Entity
    respondentName: Maybe Text
    respondentEmail: Maybe Text
    respondentPhone: Maybe Text
    respondentAction: Maybe Text
    respondingMerchantId: Id Merchant
    createdAt: UTCTime
    updatedAt: UTCTime

  excludedFields: [merchantOperatingCityId]

  queries:
    findByinternalIssueId:
      kvFunction: findOneWithKV
      where: internalIssueId

  constraints:
    id: PrimaryKey
    internalIssueId: SecondaryKey
